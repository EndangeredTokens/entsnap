<ion-header></ion-header>
<ion-content [fullscreen]="true" class="ent-snap-content">
    <div class="back-button" routerLink="/forgot-password-code">
        <img src="../../../assets/icons/basics/chevron-left-white.svg" alt="" />
    </div>
    <div>
        <div class="logo-container">
            <ion-img
                src="./assets/images/entsapp/entsapp_logo_1.png"
                alt="Logo Imagen"
                class="logo"
            />
        </div>
        <div class="subtitle">{{ 'create_new_pass.title' | translate }}</div>
    </div>

    <ion-item
        lines="none"
        class="input-item"
        [ngClass]="{'active': passwordActive, 'error': passwordErrorMessage}"
    >
        <ion-img
            class="input-icon"
            src="./assets/icons/basics/lock-closed.svg"
            alt=""
        />
        <ion-input
            placeholder="New Password"
            (ionInput)="onInputChange('password'); validateInputs()"
            [type]="showPassword ? 'text' : 'password'"
            [(ngModel)]="password"
            clearOnEdit="false"
            [ngClass]="{'active': passwordActive, 'success': passwordSuccess}"
        ></ion-input>
        <ion-icon
            class="input-icon password-icon"
            [src]="showPassword ? '../../../assets/icons/basics/eyefilled.svg' : './assets/icons/basics/eye-off-filled.svg'"
            (click)="togglePasswordVisibility()"
        />
        <ion-icon
            class="input-icon password-icon"
            [src]="passwordSuccess ? '../../../assets/icons/basics/check-circle-filled-green.svg' : ''"
        />
    </ion-item>
    <div class="error-message-container">
        <img
            [hidden]="!passwordErrorMessage"
            class="error-icon"
            src="./assets/icons/basics/exclamation-circle-filled.svg"
            alt=""
        />
        <div class="error-message">{{ passwordErrorMessage | translate }}</div>
    </div>

    <ion-item
        lines="none"
        class="input-item"
        [ngClass]="{'active': confirmPasswordActive, 'error': confirmPasswordErrorMessage | translate}"
    >
        <ion-img
            class="input-icon"
            src="./assets/icons/basics/lock-closed.svg"
            alt=""
        />
        <ion-input
            placeholder="Confirm New Password"
            (ionInput)="onInputChange('confirmPassword'); validateInputs()"
            [type]="showConfirmPassword ? 'text' : 'password'"
            [(ngModel)]="confirmPassword"
            clearOnEdit="false"
            [ngClass]="{'active': confirmPasswordActive, 'success': confirmPasswordSuccess}"
        ></ion-input>
        <ion-icon
            class="input-icon password-icon"
            [src]="showConfirmPassword ? '../../../assets/icons/basics/eyefilled.svg' : './assets/icons/basics/eye-off-filled.svg'"
            (click)="toggleConfirmPasswordVisibility()"
        />
        <ion-icon
            class="input-icon password-icon"
            [src]="confirmPasswordSuccess ? '../../../assets/icons/basics/check-circle-filled-green.svg' : ''"
        />
    </ion-item>
    <div class="error-message-container">
        <img
            [hidden]="!confirmPasswordErrorMessage"
            class="error-icon"
            src="./assets/icons/basics/exclamation-circle-filled.svg"
            alt=""
        />
        <div class="error-message">{{ confirmPasswordErrorMessage | translate}}</div>
    </div>
    <ion-button
        expand="block"
        shape="round"
        class="login-button"
        [disabled]="disableLogin"
        (click)="submitPasswordChange()"
        >Login</ion-button
    >

    <div class="has-account">
        <a>{{ 'create_new_pass.alredy' | translate }}</a>
    </div>
</ion-content>
